using System;
using System.Collections.Generic;
using System.Linq;
using System.Numerics;
using System.Text;
using System.Threading.Tasks;

namespace StudentManagementSystemProject
{
    internal class StudentManagementSystemImplimentation : StudentManagementSystem
    {
        Dictionary<string, Student> StudentData = new Dictionary<string, Student>();
        public void addStudent()
        {
            Console.WriteLine("Enter Student name");
            String name = Console.ReadLine()+"";

            Console.WriteLine("Enter Student mark in Science");
            double mark1 = Convert.ToDouble(Console.ReadLine());

            Console.WriteLine("Enter Student mark in Math");
            double mark2 = Convert.ToDouble(Console.ReadLine());

            Console.WriteLine("Enter Student mark in Computer Skill");
            double mark3 = Convert.ToDouble(Console.ReadLine());

            Student s1 = new Student(name, mark1, mark2, mark3);

            StudentData.Add(s1.Id, s1);
            Console.WriteLine("Student data added successfully!! remember newly autogenerated ROLL NO {0}",s1.Id);
            Console.WriteLine("-----------------------------------------------------------------------------");
        }

        public void deleteStudent()
        {
            Console.WriteLine("Enter Student ID which want to Delete");
            String id = Console.ReadLine() + "".ToUpper();

            if (StudentData.ContainsKey(id))  //data exist
            {
                StudentData.Remove(id);
                Console.WriteLine("Student {0} removed from DB successfully",id);
            }
            else
            {
                Console.WriteLine("There is No Student who has id - {0}, please check the ID",id);
            }
            Console.WriteLine("-----------------------------------------------------------------------------");

        }

        public void SearchStudent()
        {
            Console.WriteLine("Enter Student ID which want to Search");
            String id = (Console.ReadLine() + "").ToUpper();

            if (StudentData.ContainsKey(id))
            {
                Console.WriteLine("ID\t\tNAME\t\tSCIENCE\t\tMATHS\t\tCOMPUTER SKILL");
                Console.WriteLine(StudentData[id]);
            }
            else
            {
                Console.WriteLine("There is No Student with roll no {0}",id);
            }
            Console.WriteLine("-----------------------------------------------------------------------------");

        }

        public void showAllStudent()
        {
            if (StudentData.Count != 0)
            {
                Console.WriteLine("ID\t\tNAME\t\tSCIENCE\t\tMATHS\t\tCOMPUTER SKILL");
                foreach (KeyValuePair<string, Student> data in StudentData)
                {
                    Console.WriteLine(data.Value);
                }
            }
            else
            {
                Console.WriteLine("There is No Student Data avaliable currently");
            }
            Console.WriteLine("-----------------------------------------------------------------------------");

        }

        public void TotalNAvg()
        {
            if (StudentData.Count != 0)
            {
                Console.WriteLine("ID\t\tNAME\t\tSCIENCE\t\tMATHS\t\tCOMPUTER SKILL\t\tTOTAL\t\tAVERAGE");
                foreach (KeyValuePair<string, Student> data in StudentData)
                {
                    double total = data.Value.Mark1 + data.Value.Mark2 + data.Value.Mark3;
                    Console.WriteLine(data.Value+ "\t\t" + total + "\t\t" + total/3);
                }
            }
            else
            {
                Console.WriteLine("There is No Student Data avaliable currently");
            }
            Console.WriteLine("-----------------------------------------------------------------------------");

        }

        public void TotalStudentInEGDB()
        {
            Console.WriteLine("Total Students in EGDK DataBase is {0}",StudentData.Count);
            Console.WriteLine("-----------------------------------------------------------------------------");

        }

        public void UpdateStudent()
        {
            Console.WriteLine("Enter Student ID whom you want to edit data");
            string id = Console.ReadLine()+"".ToUpper();
            if (!StudentData.ContainsKey(id))  //data exist
            {
                Console.WriteLine("There is No Student with roll no {0}",id);
            }
            else
            {
                Console.WriteLine("choose what kind of data want to change ?\n---------------------");
                Console.WriteLine("1.Name\n2.Science score\n3.Math score\n4.Computer Skill score\n---------------------");
                int data = Convert.ToInt32(Console.ReadLine());
                Student s1;
                switch (data)
                {
                    case 1:
                        Console.WriteLine("Enter new Name");
                        string name = Console.ReadLine()+"";
                        s1 = StudentData[id];
                        Console.WriteLine("Name {0} is changed to {1}",s1.Name, name);
                        s1.Name = name;
                        break;

                    case 2:
                        Console.WriteLine("Enter new Scienece score");
                        double m1 = Convert.ToDouble(Console.ReadLine());
                        s1 = StudentData[id];
                        Console.WriteLine("Scienece score {0} is changed to {1}", s1.Mark1, m1);
                        s1.Mark1 = m1;
                        break;

                    case 3:
                        Console.WriteLine("Enter new Maths score");
                        double m2 = Convert.ToDouble(Console.ReadLine());
                        s1 = StudentData[id];
                        Console.WriteLine("Maths score {0} is changed to {1}", s1.Mark2, m2);
                        s1.Mark2 = m2;
                        break;

                    case 4:
                        Console.WriteLine("Enter new Computer Skill score");
                        double m3 = Convert.ToDouble(Console.ReadLine());
                        s1 = StudentData[id];
                        Console.WriteLine("Computer Skill score {0} is changed to {1}", s1.Mark3, m3);
                        s1.Mark3 = m3;
                        break;

                    default: Console.WriteLine("Invalied option");
                        break;
                }
            }
            Console.WriteLine("-----------------------------------------------------------------------------");

        }
    }
}
